<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Screenshot-to-code Frontend</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Screenshot-to-code Frontend</h1>
    <p>Envie um arquivo <code>.gui</code> e veja o HTML gerado.</p>
  </header>

  <label>
    URL do backend:
    <input id="backendUrl" type="text" value="https://screenshot-to-code-api-production.up.railway.app" />
  </label>

  <form id="uploadForm">
    <label>
      Selecione um arquivo .gui:
      <input id="guiFile" type="file" accept=".gui" required />
    </label>
    <div id="controls">
      <button type="submit">Gerar HTML</button>
      <a id="downloadLink" href="#" download="output.html" style="display:none">Baixar HTML</a>
      <button id="checkHealth" type="button" class="secondary">Testar conexão</button>
    </div>
    <p id="status"></p>
  </form>

  <section id="urlSection">
    <h2>Pré-visualizar um site existente</h2>
    <p>Informe um URL para buscar o HTML e visualizar aqui.</p>
    <label>
      URL do site:
      <input id="siteUrl" type="url" placeholder="https://exemplo.com" />
    </label>
    <div id="controls2">
      <button id="fetchSite" type="button">Buscar HTML do site</button>
      <button id="analyzeSite" type="button" class="secondary">Analisar URL</button>
    </div>
    <div id="analysisPanel" style="display:none">
      <h3>Resultado da análise</h3>
      <pre id="analysis" style="white-space:pre-wrap"></pre>
    </div>
  </section>

  <section id="imageSection">
    <h2>Gerar .gui a partir de uma imagem</h2>
    <p>Faça upload de um print/screenshot para gerar um .gui básico e o HTML.</p>
    <label>
      Selecionar imagem:
      <input id="imageFile" type="file" accept="image/*" />
    </label>
    <div id="controls3">
      <label class="inline">
        <input id="useOcr" type="checkbox" /> Usar OCR (experimental)
      </label>
      <button id="genGuiFromImage" type="button">Gerar .gui + HTML</button>
      <a id="downloadGui" href="#" download="output.gui" style="display:none">Baixar .gui</a>
    </div>
  </section>

  <iframe id="preview" title="Pré-visualização do HTML"></iframe>

  <script src="script.js"></script>
</body>
</html>
